<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Multi-Room Chat + DMs</title>
<link rel="stylesheet" href="style.css">
<!-- Firebase -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.1/firebase-app.js";
  import { getFirestore } from "https://www.gstatic.com/firebasejs/10.8.1/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "YOUR_API_KEY",
    authDomain: "YOUR_AUTH_DOMAIN",
    projectId: "YOUR_PROJECT_ID",
    storageBucket: "YOUR_BUCKET",
    messagingSenderId: "YOUR_SENDER_ID",
    appId: "YOUR_APP_ID"
  };

  const app = initializeApp(firebaseConfig);
  window.db = getFirestore(app);
</script>
</head>
<body>
<div id="container">

  <!-- Top Bar -->
  <header id="topBar">
    <div class="user-controls">
      Username: <b id="currentUsername"></b>
      <button id="changeUsernameBtn" class="styled-btn">Change Username</button>
    </div>
    <div class="room-controls">
      Theme:
      <select id="themeSelect" class="styled-select"></select>
      <button id="generateLinkBtn" class="styled-btn">Generate Link</button>
      <input id="newRoomInput" placeholder="New room name" class="styled-input">
      <button id="joinRoomBtn" class="styled-btn">Join Room</button>
    </div>
  </header>

  <!-- Main Content -->
  <main id="chatContent">
    <!-- Messages -->
    <section id="messagesContainer">
      <div id="gcMessages" class="messages-panel"></div>
    </section>

    <!-- Sidebar -->
    <aside id="sidebar">
      <h3>Group Chats</h3>
      <ul id="gcList"></ul>
      <h3>Users</h3>
      <ul id="userList"></ul>
    </aside>
  </main>

  <!-- Input -->
  <footer id="inputArea">
    <input id="messageInput" type="text" placeholder="Type a message..." autocomplete="off">
    <button id="sendBtn" class="styled-btn">Send</button>
  </footer>
</div>

<!-- DM Modal -->
<div id="dmModal" class="modal hidden">
  <div class="modal-content">
    <div><b id="dmHeader"></b> <button id="dmCloseBtn" class="styled-btn">Close</button></div>
    <div id="dmMessages" class="messages-panel"></div>
    <div class="dm-input-area">
      <input id="dmMessageInput" type="text" placeholder="Type DM...">
      <button id="dmSendBtn" class="styled-btn">Send</button>
    </div>
  </div>
</div>

<script type="module" src="script.js"></script>
</body>
</html>
