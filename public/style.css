/* ==========================
   Root Variables & Themes
========================== */
:root {
  --primary: #5865f2;
  --background: #2f3136;
  --sidebar-bg: #202225;
  --text: #dcddde;
  --input-bg: #40444b;
  --system-text: #72767d;
  --separator: #36393f;
  --bubble-self: #7289da;
  --bubble-other: #40444b;
}

/* Fancy themes */
body[data-theme="sunset-glow"] { --primary:#FF5E5B; --background:#FFEDDA; --text:#2B2B2B; --bubble-self:#FF9F80; --bubble-other:#FFD9C0; }
body[data-theme="purple-haze"] { --primary:#9B59B6; --background:#F5EEF8; --text:#2B2B2B; --bubble-self:#BB8FCE; --bubble-other:#E6D6F0; }
body[data-theme="deep-ocean"] { --primary:#1B4F72; --background:#D6EAF8; --text:#1B2631; --bubble-self:#5499C7; --bubble-other:#AED6F1; }
body[data-theme="royal-blue"] { --primary:#2E86C1; --background:#EBF5FB; --text:#1B2631; --bubble-self:#5DADE2; --bubble-other:#AED6F1; }
body[data-theme="sky-breeze"] { --primary:#5DADE2; --background:#EAF2F8; --text:#1B2631; --bubble-self:#85C1E9; --bubble-other:#D6EAF8; }
body[data-theme="hot-pink"] { --primary:#E91E63; --background:#FDEDEC; --text:#2B2B2B; --bubble-self:#F48FB1; --bubble-other:#FADADD; }
body[data-theme="molten-orange"] { --primary:#E67E22; --background:#FEF5E7; --text:#2B2B2B; --bubble-self:#F0B27A; --bubble-other:#FDEBD0; }
body[data-theme="golden-hour"] { --primary:#F1C40F; --background:#FEF9E7; --text:#2B2B2B; --bubble-self:#F7DC6F; --bubble-other:#FCF3CF; }
body[data-theme="rose-red"] { --primary:#C0392B; --background:#FDEDEC; --text:#2B2B2B; --bubble-self:#E6B0AA; --bubble-other:#F5B7B1; }
body[data-theme="violet-dream"] { --primary:#8E44AD; --background:#F5EEF8; --text:#2B2B2B; --bubble-self:#BB8FCE; --bubble-other:#D2B4DE; }
body[data-theme="indigo-night"] { --primary:#4B0082; --background:#E8EAF6; --text:#1B1B1B; --bubble-self:#7F00FF; --bubble-other:#B39DDB; }
body[data-theme="mystic-purple"] { --primary:#6C3483; --background:#F4ECF7; --text:#2B2B2B; --bubble-self:#A569BD; --bubble-other:#D7BDE2; }
body[data-theme="fuchsia-glow"] { --primary:#D1007D; --background:#FDECF4; --text:#2B2B2B; --bubble-self:#E754A1; --bubble-other:#F9CCE3; }
body[data-theme="electric-blue"] { --primary:#2980B9; --background:#EBF5FB; --text:#1B2631; --bubble-self:#5DADE2; --bubble-other:#AED6F1; }
body[data-theme="aqua-mist"] { --primary:#1ABC9C; --background:#E8F8F5; --text:#1B2631; --bubble-self:#48C9B0; --bubble-other:#A2D9CE; }
body[data-theme="magenta-pulse"] { --primary:#8E44AD; --background:#F5EEF8; --text:#2B2B2B; --bubble-self:#BB8FCE; --bubble-other:#D2B4DE; }
body[data-theme="blazing-orange"] { --primary:#D35400; --background:#FEF5E7; --text:#2B2B2B; --bubble-self:#EB984E; --bubble-other:#FAD7A0; }
body[data-theme="sunlit-gold"] { --primary:#F39C12; --background:#FEF9E7; --text:#2B2B2B; --bubble-self:#F7DC6F; --bubble-other:#FCF3CF; }
body[data-theme="royal-violet"] { --primary:#7D3C98; --background:#F5EEF8; --text:#2B2B2B; --bubble-self:#A569BD; --bubble-other:#D7BDE2; }
body[data-theme="night-indigo"] { --primary:#2C3E50; --background:#EAF2F8; --text:#1B2631; --bubble-self:#5D6D7E; --bubble-other:#ABB2B9; }

/* ==========================
   Global Reset & Layout
========================== */
body, html {
  margin:0;
  padding:0;
  height:100%;
  font-family: "Arial", sans-serif;
  background: var(--background);
  color: var(--text);
}

#container {
  display:flex;
  flex-direction:column;
  height:100vh;
}

/* ==========================
   Top Bar
========================== */
#topBar {
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:10px 15px;
  background: var(--sidebar-bg);
  border-bottom:2px solid var(--separator);
}

.styled-btn {
  background: var(--primary);
  color: white;
  border: none;
  padding:6px 12px;
  border-radius:5px;
  cursor:pointer;
  margin-left:5px;
  transition: opacity 0.2s;
}

.styled-btn:hover { opacity:0.85; }

.styled-select, .styled-input {
  background: var(--input-bg);
  color: var(--text);
  border:none;
  border-radius:5px;
  padding:5px;
  margin-left:5px;
}

/* ==========================
   Chat Content
========================== */
#chatContent {
  flex:1;
  display:flex;
  overflow:hidden;
}

#messagesContainer {
  flex:3;
  display:flex;
  flex-direction:column;
  overflow-y:auto;
  padding:10px;
  background: var(--background);
}

.messages-panel {
  flex:1;
  overflow-y:auto;
  padding-right:5px;
  display:flex;
  flex-direction:column;
  gap:6px;
}

/* ==========================
   Sidebar
========================== */
#sidebar {
  flex:1;
  background: var(--sidebar-bg);
  border-left:3px solid var(--separator);
  padding:10px;
  overflow-y:auto;
}

#sidebar h3 { margin-top:0; }

#sidebar ul { list-style:none; padding:0; }

#sidebar li {
  margin:5px 0;
  padding:5px 8px;
  border-radius:5px;
  cursor:pointer;
  transition:background 0.2s;
  display:flex;
  justify-content:space-between;
  align-items:center;
}

#sidebar li:hover { background: var(--primary); color:white; }
#gcList li.active-room { background: var(--primary); color:white; }

/* DM Button */
.dm-btn {
  background: var(--primary);
  color:white;
  border:none;
  border-radius:50px;
  padding:3px 8px;
  font-size:0.75rem;
  cursor:pointer;
  margin-left:5px;
}

/* ==========================
   Input Area
========================== */
#inputArea {
  display:flex;
  padding:10px;
  border-top:2px solid var(--separator);
  background: var(--sidebar-bg);
}

#inputArea input {
  flex:1;
  padding:10px;
  border-radius:20px 0 0 20px;
  border:none;
  background: var(--input-bg);
  color: var(--text);
}

#inputArea button {
  padding:10px 20px;
  border:none;
  background: var(--primary);
  color:white;
  border-radius:0 20px 20px 0;
  cursor:pointer;
}

#inputArea button:hover { opacity:0.85; }

/* ==========================
   Message Bubbles
========================== */
.message {
  max-width:70%;
  padding:8px 12px;
  border-radius:12px;
  word-wrap: break-word;
}

.message.system { background: var(--system-text); font-style:italic; align-self:center; color:white; }
.message.self { background: var(--bubble-self); align-self:flex-end; color:white; }
.message.other { background: var(--bubble-other); align-self:flex-start; color: var(--text); }

/* ==========================
   DM Modal
========================== */
.modal {
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:100%;
  background:rgba(0,0,0,0.6);
  display:flex;
  justify-content:center;
  align-items:center;
  z-index:999;
}

.modal.hidden { display:none; }

.modal-content {
  background: var(--background);
  padding:20px;
  border-radius:10px;
  width:400px;
  max-height:80%;
  display:flex;
  flex-direction:column;
}

.dm-input-area { display:flex; gap:5px; margin-top:10px; }

.dm-input-area input { flex:1; padding:8px; border-radius:5px; border:none; background: var(--input-bg); color: var(--text); }

.dm-input-area button { border-radius:5px; padding:6px 12px; }

/* ==========================
   Responsive
========================== */
@media (max-width:768px) {
  #chatContent { flex-direction:column; }
  #sidebar {
    flex:none;
    height:150px;
    border-left:none;
    border-top:2px solid var(--separator);
  }
}
